<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>DOM æ–‡æ¡£å¯¹è±¡æ¨¡å‹ |  Best Programming Language ï¼Ÿ ğŸ˜ˆ JAVASCRIPT</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="Just learn and run">
    
    <link rel="preload" href="/assets/css/0.styles.e4d8b86b.css" as="style"><link rel="preload" href="/assets/js/app.2b158257.js" as="script"><link rel="preload" href="/assets/js/2.52bd5051.js" as="script"><link rel="preload" href="/assets/js/9.cb0205bc.js" as="script"><link rel="prefetch" href="/assets/js/10.4246e6a6.js"><link rel="prefetch" href="/assets/js/11.d23225d7.js"><link rel="prefetch" href="/assets/js/12.cc7d5924.js"><link rel="prefetch" href="/assets/js/13.723985c8.js"><link rel="prefetch" href="/assets/js/14.4398ba7b.js"><link rel="prefetch" href="/assets/js/3.b8d59c98.js"><link rel="prefetch" href="/assets/js/4.e7c996f5.js"><link rel="prefetch" href="/assets/js/5.6eff8140.js"><link rel="prefetch" href="/assets/js/6.17d5dd20.js"><link rel="prefetch" href="/assets/js/7.9f0234f0.js"><link rel="prefetch" href="/assets/js/8.cdf20a2e.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e4d8b86b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name"> Best Programming Language ï¼Ÿ ğŸ˜ˆ JAVASCRIPT</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript" class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow down"></span></button> <button type="button" aria-label="JavaScript" class="mobile-dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Javascript/vuejs/" class="nav-link">
  vuejs
</a></li><li class="dropdown-item"><!----> <a href="/Javascript/reactjs/" class="nav-link">
  reactjs
</a></li><li class="dropdown-item"><!----> <a href="/Javascript/dom_bom/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  dom/bom
</a></li><li class="dropdown-item"><!----> <a href="/Javascript/nodejs/" class="nav-link">
  nodejs
</a></li><li class="dropdown-item"><!----> <a href="/Javascript/webpack/" class="nav-link">
  webpack
</a></li><li class="dropdown-item"><!----> <a href="/Javascript/tools/" class="nav-link">
  tools
</a></li><li class="dropdown-item"><!----> <a href="/Javascript/promise_await/" class="nav-link">
  promise/await
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript" class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow down"></span></button> <button type="button" aria-label="JavaScript" class="mobile-dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Javascript/vuejs/" class="nav-link">
  vuejs
</a></li><li class="dropdown-item"><!----> <a href="/Javascript/reactjs/" class="nav-link">
  reactjs
</a></li><li class="dropdown-item"><!----> <a href="/Javascript/dom_bom/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  dom/bom
</a></li><li class="dropdown-item"><!----> <a href="/Javascript/nodejs/" class="nav-link">
  nodejs
</a></li><li class="dropdown-item"><!----> <a href="/Javascript/webpack/" class="nav-link">
  webpack
</a></li><li class="dropdown-item"><!----> <a href="/Javascript/tools/" class="nav-link">
  tools
</a></li><li class="dropdown-item"><!----> <a href="/Javascript/promise_await/" class="nav-link">
  promise/await
</a></li></ul></div></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="dom-æ–‡æ¡£å¯¹è±¡æ¨¡å‹"><a href="#dom-æ–‡æ¡£å¯¹è±¡æ¨¡å‹" class="header-anchor">#</a> DOM æ–‡æ¡£å¯¹è±¡æ¨¡å‹</h2> <ul><li>dom ä¸­é¡¶çº§å¯¹è±¡æ˜¯<code>document</code>ä¸»è¦æ˜¯ç”¨æ¥æ“ä½œæ–‡æ¡£ï¼ŒèŠ‚ç‚¹ï¼Œå±æ€§ï¼Œæ–‡æœ¬ã€‚</li></ul> <h4 id="_1-è·å–å…ƒç´ "><a href="#_1-è·å–å…ƒç´ " class="header-anchor">#</a> 1.è·å–å…ƒç´ </h4> <ul><li><code>getElementById()</code> æŒ‰ç…§idå–å…ƒç´ ã€‚</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'dom'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><ul><li><code>getElementsByTagName</code>æŒ‰ç…§æ ‡ç­¾åé€‰å‡ºå½“å‰å…ƒç´ åŒ…å«çš„å­å…ƒç´ ã€‚æ³¨æ„ï¼šè¿”å›å€¼æ˜¯ä¸€ä¸ªç±»æ•°ç»„<code>HTMLCollection</code>ï¼Œå³ä½¿æ‰¾ä¸åˆ°å…ƒç´ ï¼Œä¹Ÿæ˜¯è¿”å›ä¸€ä¸ªé•¿åº¦çš„ç±»æ•°ç»„ï¼ˆ<code>length</code>ä¸º<code>0</code>ï¼‰ã€‚</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// é€‰å‡ºdocumentä¸­çš„div</span>
console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// é€‰å‡º#dom ä¸‹çš„div</span>
<span class="token keyword">let</span> dom <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'dom'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>dom<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><ul><li><code>document.getElementsByClassName</code> H5æ–°å¢æ–¹æ³• IE9ä»¥ä¸‹ä¸å¯ç”¨</li></ul> <div class="language-js extra-class"><pre class="language-js"><code> console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">'box'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><ul><li><code>document.querySelector</code>é€‰æ‹©ç¬¬ä¸€ä¸ªåŒ¹é…çš„å…ƒç´ å¯¹è±¡ ï¼ŒH5æ–°å¢æ–¹æ³• IE9ä»¥ä¸‹ä¸å¯ç”¨</li> <li><code>document.querySelectorAll</code>é€‰æ‹©æ‰€æœ‰åŒ¹é…çš„å…ƒç´ å¯¹è±¡,è¿”å›ç±»æ•°ç»„<code>NodeList</code>ï¼ŒH5æ–°å¢æ–¹æ³• &gt;IE8 å¯ç”¨</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.box'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#dom'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'.box'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>è·å–ç‰¹æ®Šå…ƒç´  <code>body html</code></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token keyword">let</span> body <span class="token operator">=</span> document<span class="token punctuation">.</span>body<span class="token punctuation">;</span>
    <span class="token keyword">let</span> html <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">;</span>
</code></pre></div><h4 id="_2-äº‹ä»¶"><a href="#_2-äº‹ä»¶" class="header-anchor">#</a> 2.äº‹ä»¶</h4> <ul><li>äº‹ä»¶ä¸‰è¦ç´ 
<ol><li>äº‹ä»¶æº</li> <li>äº‹ä»¶ç±»å‹</li> <li>äº‹ä»¶å¤„ç†æ–¹å¼</li></ol></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// æ³¨å†Œäº‹ä»¶ åªèƒ½æ³¨å†Œä¸€ä¸ªæ–¹æ³•</span>
box<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// dosomething</span>
<span class="token punctuation">}</span>
<span class="token comment">// é€šè¿‡äº‹ä»¶ç›‘å¬å¯ä»¥è®¾ç½®å¤šä¸ªç›‘å¬æ–¹æ³• (IE9ä¹‹å‰ä¸æ”¯æŒ)</span>
box<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// dosomething</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// å…¼å®¹IE9ä¹‹å‰çš„å†™æ³•</span>
box<span class="token punctuation">.</span><span class="token function">attachEvent</span><span class="token punctuation">(</span><span class="token string">'onclick'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token comment">// dosomething</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// è§£ç»‘äº‹ä»¶ </span>
 box<span class="token punctuation">.</span>onclick <span class="token operator">=</span> <span class="token keyword">null</span>
<span class="token comment">// å½“å»ç›‘å¬å™¨æ—¶ï¼Œå°±éœ€è¦ä¼ å…¥éœ€è¦åˆ é™¤çš„æ–¹æ³•ï¼Œè¿™ä¹ˆåšçš„å‰ææ˜¯è®¾ç½®ç›‘å¬æ–¹æ³•çš„æ—¶å€™ä¸èƒ½ä¼ å…¥åŒ¿åæ–¹æ³•ï¼Œå¦‚ä¸‹</span>
<span class="token keyword">function</span> <span class="token function">clickMethod</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//dosomething</span>
<span class="token punctuation">}</span>
box<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> clickMethod<span class="token punctuation">)</span>
box<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> clickMethod<span class="token punctuation">)</span>
</code></pre></div><ul><li>äº‹ä»¶æµ
<ul><li>æ•è·é˜¶æ®µï¼Œä»å¤–å‘å†…ä¼ æ’­äº‹ä»¶ï¼Œ<code>document-&gt;html-&gt;body-&gt;div</code></li> <li>å†’æ³¡é˜¶æ®µï¼Œä»å†…å‘å¤–ä¼ æ’­äº‹ä»¶ï¼Œ<code>div-&gt;body-&gt;html-&gt;document</code></li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ä¼ ç»Ÿæ³¨å†Œçš„æ–¹æ³•åªèƒ½åœ¨å†’æ³¡é˜¶æ®µè§¦å‘</span>
 div<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">// attachEvent IE9ä»¥ä¸‹åªèƒ½å†’æ³¡é˜¶æ®µè§¦å‘</span>
 div<span class="token punctuation">.</span><span class="token function">attachEvent</span><span class="token punctuation">(</span><span class="token string">'onclick'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
     <span class="token comment">//dosomething</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// addEventListenerå¯ä»¥é€šè¿‡æ·»åŠ ç¬¬ä¸‰ä¸ªå‚æ•°æ¥æŒ‡å®šå½“å‰æ–¹æ³•æ˜¯åœ¨æ•è·é˜¶æ®µè¿˜æ˜¯åœ¨å†’æ³¡é˜¶æ®µè§¦å‘</span>
div<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//dosomething</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>äº‹ä»¶è§¦å‘é¡ºåºä¸ºï¼Œä»å¤–è‡³å†…æ‰§è¡Œæ•è·çš„äº‹ä»¶ï¼Œç„¶åä»å†…ä¹‹å¤–æ‰§è¡Œå†’æ³¡çš„äº‹ä»¶ã€‚</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.box'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> inner <span class="token operator">=</span> box<span class="token punctuation">.</span>children<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> son <span class="token operator">=</span> inner<span class="token punctuation">.</span>children<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>

<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

box<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> fn<span class="token punctuation">)</span>
inner<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> fn<span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span>
son<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> fn<span class="token punctuation">)</span>

</code></pre></div><ul><li>äº‹ä»¶å¯¹è±¡ <code>event</code></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>div<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// å…¼å®¹IE678</span>
    e <span class="token operator">=</span> e <span class="token operator">||</span> window<span class="token punctuation">.</span>event
<span class="token punctuation">}</span>

div<span class="token punctuation">.</span><span class="token function">attachEvent</span><span class="token punctuation">(</span><span class="token string">'onclick'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// IE678 ä¸æ”¯æŒ</span>
    e
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><ul><li><code>e.target</code> å’Œ <code>this</code> çš„åŒºåˆ«
<ul><li><code>e.target</code> è¿”å›çš„æ˜¯è§¦å‘äº‹ä»¶çš„å¯¹è±¡</li> <li><code>this</code> è¿”å›çš„æ˜¯ç»‘å®šäº‹ä»¶çš„å¯¹è±¡</li> <li>å½“ä¸€ä¸ªäº‹ä»¶è§¦å‘ï¼Œä¸ä¸€å®šæ˜¯ç»‘å®šä»–çš„å…ƒç´ è§¦å‘çš„äº‹ä»¶ï¼Œä¹Ÿå¯èƒ½æ˜¯å½“å‰å…ƒç´ çš„å­å…ƒç´ è§¦å‘çš„å½“å‰äº‹ä»¶ã€‚</li></ul></li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>inner<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>son<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            content
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.box'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> inner <span class="token operator">=</span> box<span class="token punctuation">.</span>children<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> son <span class="token operator">=</span> inner<span class="token punctuation">.</span>children<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>

<span class="token comment">// ç‚¹å‡»contentæ–‡å­—è§¦å‘æ–¹æ³•</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token comment">// box</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">)</span> <span class="token comment">// son</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>srcElement<span class="token punctuation">)</span><span class="token comment">// IE678</span>
<span class="token punctuation">}</span>
box<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> fn<span class="token punctuation">)</span>
</code></pre></div><ul><li><p>å¸¸ç”¨äº‹ä»¶å±æ€§å’Œæ–¹æ³•</p> <ul><li><code>e.type</code> æ–¹æ³•ç±»å‹,ä¸å¸¦<code>on</code></li> <li><code>e.preventDefault()</code> é˜»æ­¢é»˜è®¤è¡Œä¸º IE678ä¸æ”¯æŒ</li> <li><code>e.stopPropagation()</code> é˜»æ­¢å†’æ³¡</li> <li><code>e.cancelBubble = true</code> IE678é˜»æ­¢æ¯›æ³¡</li></ul></li> <li><p>äº‹ä»¶å§”æ‰˜/ä»£ç†/å§”æ´¾</p></li></ul> <blockquote><ul><li>å¦‚ä¸‹ä»£ç ã€‚æƒ³è¦ä¸ºæ¯ä¸ª<code>li</code>åˆ›å»ºåŒä¸€ä¸ªç‚¹å‡»æ–¹æ³•ï¼ŒæŒ‰ç…§å¸¸è§„æ–¹æ³•åº”è¯¥ä¸ºæ¯ä¸ª<code>li</code>æ·»åŠ ç›‘å¬,è¿™æ ·ä¼šæµªè´¹å¾ˆå¤šçš„æ€§èƒ½å»æ·»åŠ ç›‘å¬å™¨ã€‚å¦‚æœåˆ©ç”¨å†’æ³¡æœºåˆ¶ï¼Œä½¿ç”¨äº‹ä»¶å§”æ‰˜çš„æ–¹å¼ï¼Œç»™<code>ul</code>æ·»åŠ ç›‘å¬å™¨ï¼Œè¿™æ ·å°±é€šè¿‡<code>li</code>çš„å†’æ³¡è§¦å‘äº†<code>ul</code>çš„ç›‘å¬å™¨ã€‚å¦‚æœæƒ³è¦è·å–å…·ä½“ç‚¹å‡»äº†å“ªä¸ª<code>li</code>å¯ä»¥é€šè¿‡<code>e.target</code>å»è·å–ã€‚</li></ul></blockquote> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- ç‚¹å‡»li å†’æ³¡ä¼šè§¦å‘ulçš„ç›‘å¬å™¨--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>001<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>002<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>003<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>004<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>005<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> ul <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'ul'</span><span class="token punctuation">)</span>
ul<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">'red'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre></div><ul><li>å¸¸ç”¨é¼ æ ‡äº‹ä»¶
<ul><li><code>onlick</code> ç‚¹å‡»</li> <li><code>onmouseenter</code>ç»è¿‡è‡ªèº«ç›’å­è§¦å‘ï¼Œä¸ä¼šå†’æ³¡</li> <li><code>onmouseover</code>é¼ æ ‡ç»è¿‡è‡ªèº«æˆ–è€…å­ç›’å­è§¦å‘ï¼Œä¼šå†’æ³¡</li> <li><code>onmouserleave</code> é¼ æ ‡ç¦»å¼€ ä¸ä¼šå†’æ³¡ å’Œ<code>onmouseenter</code> å¯¹åº”</li> <li><code>onmouseup</code> é¼ æ ‡å¼¹èµ·è§¦å‘</li> <li><code>onmouseout</code> é¼ æ ‡ç¦»å¼€è§¦å‘</li> <li><code>onmousedown</code> é¼ æ ‡æŒ‰ä¸‹è§¦å‘</li> <li><code>onmousemove</code> é¼ æ ‡ç§»åŠ¨è§¦å‘</li> <li><code>onfocus</code> è·å¾—é¼ æ ‡ç„¦ç‚¹</li> <li><code>onblur</code> å¤±å»é¼ æ ‡ç„¦ç‚¹</li> <li><code>contextmenu</code> æ§åˆ¶æ˜¾ç¤ºä¸Šä¸‹æ–‡èœå• ä¸»è¦ç”¨æ¥å–æ¶ˆé»˜è®¤çš„ä¸Šä¸‹æ–‡èœå•</li> <li><code>selectstart</code> å¼€å§‹é€‰ä¸­å†…å®¹æ—¶å€™è§¦å‘</li> <li><code>element.click()</code> å½“å‰å…ƒç´ æ‰§è¡Œä¸€æ¬¡ç‚¹å‡»äº‹ä»¶ ä¼šå†’æ³¡</li> <li><code>element.focus()</code> è·å–ç„¦ç‚¹</li> <li><code>element.blur()</code> å¤±å»ç„¦ç‚¹</li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// é˜»æ­¢å¼¹å‡ºå³é”®èœå•</span>
document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'contextmenu'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// é˜»æ­¢é€‰ä¸­è¡Œä¸º</span>
document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'selectstart'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>é¼ æ ‡äº‹ä»¶å¯¹è±¡ <code>MouseEvent</code> <ul><li><code>e.clientX</code> é¼ æ ‡ç›¸å¯¹è§†å£çš„Xåæ ‡</li> <li><code>e.clientY</code> é¼ æ ‡ç›¸å¯¹äºè§†å£çš„Yåæ ‡</li> <li><code>e.screenX</code> é¼ æ ‡ç›¸å¯¹å±å¹•çš„Xåæ ‡</li> <li><code>e.screenY</code> é¼ æ ‡ç›¸å¯¹å±å¹•çš„Yåæ ‡</li> <li><code>e.pageX</code> é¼ æ ‡ç›¸å¯¹äºæ•´ä¸ªæ–‡æ¡£é¡µé¢çš„Xåæ ‡ <em>IE9ä»¥ä¸‹ä¸æ”¯æŒ</em></li> <li><code>e.pageY</code> é¼ æ ‡ç›¸å¯¹äºæ•´ä¸ªæ–‡æ¡£é¡µé¢çš„Yåæ ‡ <em>IE9ä»¥ä¸‹ä¸æ”¯æŒ</em></li> <li></li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mousemove'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
   div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> e<span class="token punctuation">.</span>clientX <span class="token operator">+</span> <span class="token string">'px'</span>
   div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> e<span class="token punctuation">.</span>clientY <span class="token operator">+</span> <span class="token string">'px'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>å¸¸ç”¨é”®ç›˜äº‹ä»¶
<ul><li><code>onkeyup</code> é”®ç›˜å¼¹èµ·è§¦å‘</li> <li><code>onkeydown</code> é”®ç›˜æŒ‰ä¸‹è§¦å‘ ä¸€ç›´æŒ‰ç€ä¸€ç›´è§¦å‘</li> <li><code>onkeypress</code>é”®ç›˜æŒ‰ä¸‹è§¦å‘ï¼Œä½†æ˜¯åŠŸèƒ½æŒ‰é”®ä¸ä¼šè§¦å‘è¿™ä¸ªæ–¹æ³• ä¸€ç›´æŒ‰ç€ä¸€ç›´è§¦å‘</li> <li>å¦‚æœä¸‰è€…éƒ½æœ‰ æ‰§è¡Œé¡ºåºæ˜¯<code>down -&gt; press -&gt; up</code></li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'keyup'</span><span class="token punctuation">,</span> fn<span class="token punctuation">)</span>
document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'keydown'</span><span class="token punctuation">,</span> fn<span class="token punctuation">)</span>
document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'keypress'</span><span class="token punctuation">,</span> fn<span class="token punctuation">)</span>
</code></pre></div><ul><li>é”®ç›˜äº‹ä»¶å¯¹è±¡ <code>KeyBoardEvent</code> <ul><li><code>keyCode</code> æŒ‰é”®å¯¹åº”çš„ ASCII ç  å¤§å°å†™å­—æ¯æ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯æŒ‰ä¸‹å’Œå¼¹èµ·çš„ASCIIç æ˜¯ä¸ä¸€æ ·çš„</li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> search <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.search'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> search <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.search'</span><span class="token punctuation">)</span>

        document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'keyup'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span>keyCode <span class="token operator">===</span> <span class="token number">83</span> <span class="token operator">&amp;&amp;</span> search<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token keyword">const</span> search <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.search'</span><span class="token punctuation">)</span>

        document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'keyup'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span>keyCode <span class="token operator">===</span> <span class="token number">83</span> <span class="token operator">&amp;&amp;</span> search<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'keyup'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span>keyCode <span class="token operator">===</span> <span class="token number">83</span> <span class="token operator">&amp;&amp;</span> search<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><ul><li><p>ç§»åŠ¨ç«¯äº‹ä»¶</p> <ul><li><code>touchstart</code> å¼€å§‹è§¦æ‘¸</li> <li><code>touchend</code>  ç»“æŸè§¦æ‘¸</li> <li><code>touchmove</code> è§¦æ‘¸+ç§»åŠ¨</li></ul></li> <li><p>ç§»åŠ¨ç«¯äº‹ä»¶å¯¹è±¡ <code>TouchEvent</code> ç”¨äºæè¿°ä¸€ä¸ªæˆ–è€…å¤šä¸ªè§¦ç‚¹ã€‚</p> <ul><li><code>e.touches</code> æ‰€æœ‰è§¦ç‚¹çš„åˆ—è¡¨ã€‚</li> <li><code>e.targetTouches</code> å½“å‰Domå…ƒç´ ä¸Šçš„è§¦ç‚¹åˆ—è¡¨ï¼Œæœ€å¸¸ä½¿ç”¨ï¼Œé‡ç‚¹ä½¿ç”¨ã€‚</li> <li><code>e.changedTouches</code> è§¦ç‚¹çŠ¶æ€å˜åŒ–åˆ—è¡¨ï¼Œä»æ— åˆ°æœ‰æˆ–è€…ä»æœ‰åˆ°æ— ï¼Œæ‰‹æŒ‡ç¦»å¼€å±å¹•çš„æ—¶å€™å¯ä»¥é€šè¿‡æ­¤å±æ€§è·å–è§¦ç‚¹ä¿¡æ¯ã€‚ä»¥ä¸Šä¸¤ä¸ªéƒ½ä¸ºç©ºã€‚</li> <li><code>e.targetTouches[0]</code> è·å–ç¬¬ä¸€ä¸ªè§¦ç‚¹ï¼Œå…¶ä¸­åŒ…å«ä½ç½®ä¿¡æ¯ã€‚</li></ul></li> <li><p>è¿‡æ¸¡äº‹ä»¶ ä½¿ç”¨<code>transition</code>çš„å…ƒç´ æ‹¥æœ‰è¯¥äº‹ä»¶</p> <ul><li><code>transitionend</code>è¿‡æ¸¡ç»“æŸæ—¶è§¦å‘è¿‡æ¸¡åœ¨å®Œæˆå‰è¢«ç§»é™¤æˆ–è€…<code>display:none</code>çš„æ—¶å€™ä¸ä¼šè§¦å‘æ–¹æ³•</li> <li><code>transitionrun</code>è¯¥äº‹ä»¶åœ¨é¦–æ¬¡ç”ŸæˆCSSè¿‡æ¸¡æ—¶ï¼ˆå³<code>transition-delay</code>å¼€å§‹ä¹‹å‰ï¼‰è§¦å‘ã€‚åŒ…å«å»¶è¿Ÿæ—¶é—´ã€‚</li> <li><code>transitionstart</code>å½“CSSè¿‡æ¸¡å®é™…å¼€å§‹æ—¶ï¼ˆå³<code>transition-delay</code>ç»“æŸåï¼‰ï¼Œå°†è§¦å‘æ­¤äº‹ä»¶ï¼ŒåŠ¨ç”»å®é™…å¼€å§‹æ—¶å€™è§¦å‘ï¼Œä¸åŒ…å«å»¶è¿Ÿæ—¶é—´ ã€‚</li> <li><code>transitioncancel</code>åŠ¨ç”»è¢«å–æ¶ˆæ—¶è§¦å‘ï¼Œ<code>display:none</code>è§¦å‘ï¼Œè¿‡æ¸¡è¢«ç»ˆæ­¢æ—¶å€™è§¦å‘ï¼Œæ¯”å¦‚è®¾ç½®é¼ æ ‡æ‚¬æµ®æ—¶å€™è§¦å‘æŸä¸ªåŠ¨ç”»ï¼Œåœ¨åŠ¨ç”»å®Œæˆä¹‹å‰ç§»å‡ºé¼ æ ‡ï¼Œè§¦å‘è¯¥äº‹ä»¶ï¼Œå½“æ­£åœ¨è¿‡æ¸¡çš„å±æ€§è¢«æ”¹å˜æ—¶è§¦å‘ã€‚</li></ul></li></ul> <h4 id="_3-ä¿®æ”¹å…ƒç´ "><a href="#_3-ä¿®æ”¹å…ƒç´ " class="header-anchor">#</a> 3.ä¿®æ”¹å…ƒç´ </h4> <ul><li><code>innerText</code> <ul><li>æ¸²æŸ“ä¸è§£ææ ‡ç­¾ã€‚è¯¥å±æ€§æ˜¯å¯è¯»å¯å†™çš„ã€‚è¯»å–å‡ºå†…å®¹ä¼šå»é™¤ç©ºæ ¼å’Œæ¢è¡Œã€‚</li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>box<span class="token punctuation">.</span>innerText<span class="token punctuation">)</span>
box<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    box<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">'&lt;div&gt;123&lt;/div&gt;'</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>innerHTML</code> <ul><li>æ¸²æŸ“å¹¶è§£ææ ‡ç­¾ã€‚è¯¥å±æ€§æ˜¯å¯è¯»å¯å†™çš„ã€‚è¯»å–çš„å†…å®¹ä¿ç•™ç©ºæ ¼å’Œæ¢è¡Œã€‚</li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>box<span class="token punctuation">.</span>innerHTML<span class="token punctuation">)</span>
box<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    box<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">'&lt;div&gt;123&lt;/div&gt;'</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>è¯»å†™å…ƒç´ å±æ€§ï¼Œå¯ä»¥ç›´æ¥ç”¨<code>æ ‡ç­¾å¯¹è±¡.å±æ€§</code>æ¥è¯»å†™ï¼Œåªèƒ½è·å–å†…ç½®å±æ€§ï¼Œå¯ä»¥ç”¨æ–¹æ³•æ¥è¯»å†™ï¼Œä¼˜åŠ¿æ˜¯å¯ä»¥è·å–è‡ªå®šä¹‰å±</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// è¯»</span>
element<span class="token punctuation">.</span>attr
element<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">'my-attr'</span><span class="token punctuation">)</span>
<span class="token comment">// H5è·å–è‡ªå®šä¹‰å±æ€§</span>
element<span class="token punctuation">.</span>dataset<span class="token punctuation">.</span>attr
element<span class="token punctuation">.</span>dataset<span class="token punctuation">[</span><span class="token string">'attr'</span><span class="token punctuation">]</span>
<span class="token comment">// å¤šä¸ªçŸ­æ¨ªéœ€è¦é‡‡ç”¨é©¼å³°é€šè¿‡datasetè·å–å±æ€§</span>
element<span class="token punctuation">.</span>dataset<span class="token punctuation">.</span>someAttr


<span class="token comment">// å†™</span>
<span class="token comment">// H5è§„èŒƒå¦‚æœæ˜¯è‡ªå®šä¹‰å±æ€§åŠ ä¸Š data- å‰ç¼€</span>
element<span class="token punctuation">.</span>attr <span class="token operator">=</span> <span class="token string">'attr'</span>
element<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'data-attr'</span><span class="token punctuation">,</span><span class="token string">'value'</span><span class="token punctuation">)</span>

<span class="token comment">// ç§»é™¤å±æ€§</span>
element<span class="token punctuation">.</span><span class="token function">removeAttribute</span><span class="token punctuation">(</span><span class="token string">'data-attr'</span><span class="token punctuation">)</span>
</code></pre></div><ul><li><code>element.style</code> ä¿®æ”¹è¡Œå†…æ ·å¼ï¼Œé©¼å³°å†™æ³•ã€‚</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> ls <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>ls<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token string">'100'</span><span class="token punctuation">;</span>
    ls<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>backgroundPosition <span class="token operator">=</span> <span class="token string">'0 -'</span> <span class="token operator">+</span> index <span class="token operator">+</span> <span class="token string">'px'</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>element.classList</code>æ“ä½œæ ·å¼ç±»ã€‚</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// å¦‚æœæœ‰å°±åˆ é™¤ æ²¡æœ‰å°±æ·»åŠ boxå±æ€§</span>
box<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token string">'box'</span><span class="token punctuation">)</span>
box<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'box'</span><span class="token punctuation">)</span>
box<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">'box'</span><span class="token punctuation">)</span>
</code></pre></div><ul><li><code>element.className</code>ç›´æ¥æŒ‡å®šç±»ï¼Œä¼šå»é™¤åŸæ¥çš„ç±»ã€‚</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> ls <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span>
ls<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'class'</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="_4-èŠ‚ç‚¹æ“ä½œ"><a href="#_4-èŠ‚ç‚¹æ“ä½œ" class="header-anchor">#</a> 4.èŠ‚ç‚¹æ“ä½œ</h4> <ul><li><p>åˆ©ç”¨èŠ‚ç‚¹å±‚çº§å…³ç³»è·å–å…ƒç´ ï¼Œæ¯”domæŸ¥è¯¢æ›´æ–¹ä¾¿ã€‚
é¡µé¢ä¸­æ‰€æœ‰å†…å®¹éƒ½æ˜¯èŠ‚ç‚¹ã€‚æ‰€æœ‰èŠ‚ç‚¹éƒ½å¯ä»¥é€šè¿‡jsè®¿é—®ï¼Œå‡å¯è¢«ä¿®æ”¹ã€åˆ é™¤ã€æ–°å¢ã€‚</p></li> <li><p>èŠ‚ç‚¹å±æ€§</p> <ul><li>èŠ‚ç‚¹ç±»å‹ nodeType
<ul><li>å…ƒç´ èŠ‚ç‚¹ - 1</li> <li>å±æ€§èŠ‚ç‚¹ - 2</li> <li>æ–‡æœ¬èŠ‚ç‚¹ - 3 ï¼ˆåŒ…å«æ–‡å­— ç©ºæ ¼ æ¢è¡Œï¼‰</li></ul></li> <li>èŠ‚ç‚¹åç§° nodeName</li> <li>èŠ‚ç‚¹å€¼ nodeValue</li></ul></li> <li><p>è·å–èŠ‚ç‚¹</p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// è·å–ç¦»å…ƒç´ æœ€è¿‘çš„çˆ¶çº§èŠ‚ç‚¹</span>
box<span class="token punctuation">.</span>parentNode
<span class="token comment">// åŒ…å«æ–‡æœ¬èŠ‚ç‚¹å’Œå…ƒç´ èŠ‚ç‚¹ï¼Œä½†ä¸åŒ…å«å±æ€§èŠ‚ç‚¹ </span>
box<span class="token punctuation">.</span>childNodes
<span class="token comment">// ä»…åŒ…å«å­å…ƒç´ èŠ‚ç‚¹</span>
box<span class="token punctuation">.</span>children

<span class="token comment">// è·å–å­çº§é¦–å°¾èŠ‚ç‚¹ï¼Œä¼šå–åˆ°æ–‡æœ¬èŠ‚ç‚¹</span>
box<span class="token punctuation">.</span>firstChild
box<span class="token punctuation">.</span>lastChild

<span class="token comment">// è·å–å­çº§é¦–å°¾å…ƒç´ èŠ‚ç‚¹  IE9ä»¥ä¸Š</span>
box<span class="token punctuation">.</span>lastElementChild
box<span class="token punctuation">.</span>firstElementChild

<span class="token comment">// å®é™…å¼€å‘ä¸­ä½¿ç”¨childrenè¾¾åˆ°è·å–å­çº§é¦–å°¾å…ƒç´ çš„æ•ˆæœ</span>
box<span class="token punctuation">.</span>children<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> 
box<span class="token punctuation">.</span>children<span class="token punctuation">[</span>box<span class="token punctuation">.</span>children<span class="token punctuation">.</span>length<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>

<span class="token comment">// è·å–å…„å¼ŸèŠ‚ç‚¹ åŒ…æ‹¬æ–‡æœ¬èŠ‚ç‚¹</span>
box<span class="token punctuation">.</span>nextSibling
box<span class="token punctuation">.</span>previousSibling

<span class="token comment">//  è·å–å…„å¼Ÿå…ƒç´ èŠ‚ç‚¹ ä¸å…¼å®¹IE9ä»¥ä¸‹ éœ€è¦è‡ªè¡Œæ·»åŠ polyfill</span>
box<span class="token punctuation">.</span>nextElementSibling
box<span class="token punctuation">.</span>previousElementSibling
</code></pre></div><ul><li>åˆ›å»ºèŠ‚ç‚¹å’Œæ·»åŠ èŠ‚ç‚¹</li> <li>ä½¿ç”¨å…ˆåˆ›å»ºåæ·»åŠ çš„æ–¹å¼ã€‚åŸå› æ˜¯å¦‚æœä½¿ç”¨<code>innerHTML</code>æ€§èƒ½å·®å¾ˆå¤š,å› ä¸ºä¼ å…¥å­—ç¬¦ä¸²è¿˜éœ€è¦æµªè´¹èµ„æºå»è§£æã€‚å¦‚æœæ‹¼æ¥å®Œæ¯•åä¸€æ¬¡å†™å…¥ï¼Œæ”¾å¼ƒå¾ªç¯ï¼Œ<code>innerHTML</code>æ€§èƒ½ä¼šæœ‰æå‡ã€‚ å¤šæ–¹æ¡ˆæ¯”è¾ƒå‚è§ç½‘ç«™ã€‚<a href="https://jsperf.com/appendchild-vs-documentfragment-vs-innerhtml/61" target="_blank" rel="noopener noreferrer">æŸ¥çœ‹æ€§èƒ½å¯¹æ¯”<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// åˆ›å»ºèŠ‚ç‚¹ </span>
<span class="token keyword">let</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span>
div<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">'123'</span>

<span class="token comment">// æ·»åŠ èŠ‚ç‚¹</span>
<span class="token comment">// é¦–å…ˆè·å–çˆ¶çº§èŠ‚ç‚¹</span>
<span class="token keyword">let</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.box'</span><span class="token punctuation">)</span>

<span class="token comment">// åœ¨çˆ¶å…ƒç´ çš„å­èŠ‚ç‚¹åˆ—è¡¨çš„æœ«å°¾æ·»åŠ èŠ‚ç‚¹  å¦‚æœé‡å¤æ“ä½œåŒä¸€ä¸ªå…ƒç´  ä¼šå°†å‰è¾¹çš„è¯¥å…ƒç´ åˆ é™¤ </span>
box<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>div<span class="token punctuation">)</span> 

<span class="token comment">// åœ¨æŸä¸ªèŠ‚ç‚¹å‰æ·»åŠ èŠ‚ç‚¹</span>
<span class="token comment">// `insertBefore(æ’å…¥çš„èŠ‚ç‚¹ï¼Œå‚ç…§çš„èŠ‚ç‚¹)`</span>
box<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>div<span class="token punctuation">,</span>box<span class="token punctuation">.</span>children<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
       
<span class="token comment">// åˆ é™¤æŸä¸ªå­èŠ‚ç‚¹</span>
box<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>box<span class="token punctuation">.</span>children<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">// æ‹·è´èŠ‚ç‚¹ï¼Œå‚æ•°ä¸ºæ˜¯å¦è¿›è¡Œæ·±æ‹·è´ï¼Œå³æ˜¯å¦å…‹éš†æ‰€æœ‰å­èŠ‚ç‚¹</span>
<span class="token comment">// æµ…æ‹·è´æ—¶ä¹Ÿä¼šå°†å±æ€§èŠ‚ç‚¹æ‹·è´è¿‡æ¥</span>
box<span class="token punctuation">.</span>children<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="bom-æµè§ˆå™¨å¯¹è±¡æ¨¡å‹"><a href="#bom-æµè§ˆå™¨å¯¹è±¡æ¨¡å‹" class="header-anchor">#</a> BOM æµè§ˆå™¨å¯¹è±¡æ¨¡å‹</h2> <ul><li>bom ä¸­é¡¶çº§å¯¹è±¡æ˜¯<code>window</code>ï¼Œbomä¸»è¦æ˜¯å’Œæµè§ˆå™¨æ‰“äº¤é“ï¼Œå®Œæˆè·³è½¬ï¼Œæ»šåŠ¨çª—å£ï¼Œè°ƒæ•´çª—å£å¤§å°ï¼Œæµè§ˆå™¨äº‹ä»¶ç­‰ç­‰ã€‚domæ˜¯åŒ…å«åœ¨bomä¸­çš„ï¼Œ<code>window.document</code></li></ul> <h4 id="_1-window-å¯¹è±¡"><a href="#_1-window-å¯¹è±¡" class="header-anchor">#</a> 1.<code>window</code> å¯¹è±¡</h4> <ul><li><p><code>window</code> å¯¹è±¡ï¼Œæ˜¯jsè®¿é—®æµè§ˆå™¨çª—å£çš„ä¸€ä¸ªæ¥å£ï¼Œæ˜¯ä¸€ä¸ªå…¨å±€å¯¹è±¡ï¼Œå®šä¹‰åœ¨å…¨å±€ä½œç”¨äºä¸­çš„å„å˜é‡éƒ½ä¼šå˜æˆ<code>window</code>çš„å±æ€§æˆ–è€…æ–¹æ³•ã€‚</p> <ul><li>æ³¨æ„ï¼š<code>window.name</code>æœ¬èº«æ˜¯æœ‰å€¼çš„ï¼Œä¸è¦é€šè¿‡<code>var name = 'something'</code> ä¸è¦é‡æ–°èµ‹å€¼ã€‚</li></ul></li> <li><p><code>window.noload</code>æˆ–è€…<code>window.addEventListener('load',e=&gt;{})</code>å½“æ–‡æ¡£å†…å®¹å…¨éƒ¨åŠ è½½å®Œæˆä¹‹åæ‰§è¡Œæ–¹æ³•ï¼Œéœ€è¦ç­‰å¾…æ‰€æœ‰å›¾ç‰‡ï¼Œflashï¼Œcssç­‰ç­‰åŠ è½½å®Œæ‰§è¡Œã€‚</p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// å¥½å¤„æ˜¯å¤šä¸ªç›‘å¬ä¸ä¼šäº’ç›¸è¦†ç›– </span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'load'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><ul><li><code>window.addEventListener('DOMContentLoaded',e=&gt;{})</code> DOMåŠ è½½å®Œæ¯•æ‰§è¡Œï¼Œä¸åŒ…å«å›¾ç‰‡ï¼Œflashï¼Œcssç­‰å°±å¯ä»¥æ‰§è¡Œã€‚</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// æ–‡æ¡£å†…å®¹(æ ‡ç­¾)åŠ è½½å®Œå°±ä¼šæ‰§è¡Œ</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'DOMContentLoaded'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><ul><li><code>window.onresize</code>æˆ–è€…<code>window.addEventListener('resize',function(){})</code>æµè§ˆå™¨çª—å£å˜åŒ–æ—¶è§¦å‘æ–¹æ³•ã€‚</li> <li><code>window.innerWidth</code>å±å¹•çš„å°ºå¯¸ï¼Œé…åˆonersizeå¯ä»¥è¿›è¡Œéƒ¨åˆ†å“åº”å¼æ“ä½œã€‚</li> <li><code>window.setTimeout(fn,delay)</code>æ‰§è¡Œä¸€æ¬¡ï¼Œè¿”å›ä¸€ä¸ªå®šæ—¶å™¨ç¼–å·ã€‚</li> <li><code>window.clearInterval(n)</code>æ¸…é™¤å®šæ—¶å™¨</li> <li><code>window.setInterval(fn,delay)</code>æ— é™æ‰§è¡Œï¼Œè¿”å›ä¸€ä¸ªå®šæ—¶å™¨ç¼–å·ã€‚</li> <li><code>window.clearInterval(n)</code>æ¸…é™¤å®šæ—¶å™¨</li> <li><code>this</code>æŒ‡å‘ ç•¥ã€‚</li> <li><code>window.onload</code>åœ¨ç«ç‹æµè§ˆå™¨ä¸‹ä¼šæœ‰é—®é¢˜ï¼ŒåŸå› æ˜¯ç«ç‹æµè§ˆå™¨æ˜¯å°†ä¸Šä¸€é¡µçš„å†…å®¹ç¼“å­˜è¿›å†…å­˜ä¸­ï¼Œå†è¿”å›ä¸Šä¸ªé¡µé¢çš„æ—¶å€™ä¸ä¼šè§¦å‘è¯¥äº‹ä»¶</li> <li><code>window.pageshow</code>ä¸ºäº†å…¼å®¹ä¸Šè¿°ç«ç‹æµè§ˆå™¨çš„é—®é¢˜ï¼Œåªè¦æ˜¯é¡µé¢å±•ç¤ºå°±ä¼šè§¦å‘è¿™ä¸ªæ–¹æ³•</li></ul> <h4 id="_2-jsåœ¨æµè§ˆå™¨ä¸­çš„è¿è¡Œæœºåˆ¶-event-loop-ä¸é€‚ç”¨node-è¯·åŠ¡å¿…åˆ†æ¸…"><a href="#_2-jsåœ¨æµè§ˆå™¨ä¸­çš„è¿è¡Œæœºåˆ¶-event-loop-ä¸é€‚ç”¨node-è¯·åŠ¡å¿…åˆ†æ¸…" class="header-anchor">#</a> 2. jsåœ¨æµè§ˆå™¨ä¸­çš„è¿è¡Œæœºåˆ¶ <code>event loop</code>(ä¸é€‚ç”¨nodeï¼Œè¯·åŠ¡å¿…åˆ†æ¸…)</h4> <ul><li>å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡ï¼šæ™®é€šä»»åŠ¡é˜Ÿåˆ—å’Œå»¶è¿Ÿé˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ï¼Œéƒ½å±äºå®ä»»åŠ¡ï¼Œå¯¹äºæ¯ä¸ªå®ä»»åŠ¡è€Œè¨€ï¼Œå…¶å†…éƒ¨éƒ½æœ‰ä¸€ä¸ªå¾®ä»»åŠ¡é˜Ÿåˆ—,å…¶å®å¼•å…¥å¾®ä»»åŠ¡çš„åˆè¡·æ˜¯ä¸ºäº†è§£å†³å¼‚æ­¥å›è°ƒçš„é—®é¢˜ã€‚</li> <li>V8å¼•æ“å¯¹äºå¾®ä»»åŠ¡çš„ä¼˜åŒ–å¦‚ä¸‹ï¼šåœ¨æ¯ä¸€ä¸ªå®ä»»åŠ¡ä¸­å®šä¹‰ä¸€ä¸ªå¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå½“è¯¥å®ä»»åŠ¡æ‰§è¡Œå®Œæˆï¼Œä¼šæ£€æŸ¥å…¶ä¸­çš„å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå¦‚æœä¸ºç©ºåˆ™ç›´æ¥æ‰§è¡Œä¸‹ä¸€ä¸ªå®ä»»åŠ¡ï¼Œå¦‚æœä¸ä¸ºç©ºï¼Œåˆ™ä¾æ¬¡æ‰§è¡Œå¾®ä»»åŠ¡ï¼Œæ‰§è¡Œå®Œæˆæ‰å»æ‰§è¡Œä¸‹ä¸€ä¸ªå®ä»»åŠ¡ã€‚</li> <li>å¸¸è§çš„å¾®ä»»åŠ¡æœ‰<code>Promise.then</code>(æˆ–<code>.reject</code>) ä»¥åŠä»¥<code>Promise</code>ä¸ºåŸºç¡€å¼€å‘çš„å…¶ä»–æŠ€æœ¯(æ¯”å¦‚<code>fetch API</code>), è¿˜åŒ…æ‹¬V8çš„åƒåœ¾å›æ”¶è¿‡ç¨‹ã€‚</li> <li>è¯¦è¿°jsä»£ç è¿è¡Œæœºåˆ¶
<ol><li>ä¸€å¼€å§‹æ•´æ®µè„šæœ¬ä½œä¸ºç¬¬ä¸€ä¸ªå®ä»»åŠ¡æ‰§è¡Œ,æ‰§è¡Œè¿‡ç¨‹ä¸­åŒæ­¥ä»£ç ç›´æ¥æ‰§è¡Œï¼Œå®ä»»åŠ¡è¿›å…¥å®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå¾®ä»»åŠ¡è¿›å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå½“å‰å®ä»»åŠ¡æ‰§è¡Œå®Œå‡ºé˜Ÿã€‚</li> <li>æ£€æŸ¥æ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå¦‚æœæœ‰åˆ™ä¾æ¬¡æ‰§è¡Œï¼Œç›´åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸ºç©º</li> <li>æ£€æŸ¥æ‰§è¡Œæµè§ˆå™¨UIçº¿ç¨‹çš„æ¸²æŸ“å·¥ä½œ</li> <li>æ£€æŸ¥æ‰§è¡Œæ˜¯å¦æœ‰WebWorkerï¼ˆè‡ªè¡Œç™¾åº¦ï¼‰ä»»åŠ¡</li> <li>æ‰§è¡Œé˜Ÿé¦–æ–°çš„å®ä»»åŠ¡ï¼Œå¾ªç¯å¾€å¤ï¼Œç›´åˆ°å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡é˜Ÿåˆ—éƒ½ä¸ºç©º</li></ol></li></ul> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token keyword">let</span> promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res<span class="token punctuation">,</span>rej</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'start_1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token function">res</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Promise1'</span><span class="token punctuation">)</span>
     <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
         console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'setTimeout2'</span><span class="token punctuation">)</span>
     <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'setTimeout1'</span><span class="token punctuation">)</span>
     Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
         console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Promise2'</span><span class="token punctuation">)</span>
     <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'start_2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">//æ‰§è¡Œç»“æœï¼šstart_1 start_2 promise1 setTimeout1 Promise2 setTimeout2</span>
</code></pre></div><h4 id="_3-window-locationå¯¹è±¡"><a href="#_3-window-locationå¯¹è±¡" class="header-anchor">#</a> 3.<code>window.location</code>å¯¹è±¡</h4> <ul><li><code>location.href</code>æ•´ä¸ªurlï¼ˆå¯ä»¥ç”¨æ¥å®ç°å½“å‰é¡µé¢è·³è½¬ï¼Œä¸å¼€å¯æ–°é¡µç­¾ï¼‰</li> <li><code>location.host</code> ä¸»æœº/åŸŸå</li> <li><code>location.port</code> ç«¯å£</li> <li><code>location.pathname</code> è·¯å¾„</li> <li><code>location.search</code> å‚æ•°ï¼ˆå¸¦<code>?</code>ï¼‰</li> <li><code>location.hash</code> #åè¾¹å€¼</li> <li><code>location.assign(url)</code>è·³è½¬æŒ‡å®šé¡µé¢ï¼Œå¯ä»¥è®°å½•æµè§ˆå†å²ï¼Œå¯ä»¥åé€€ã€‚</li> <li><code>location.replace(url)</code>è·³è½¬ï¼Œä¸è®°å½•å†å²ï¼Œä¸å¯åé€€</li> <li><code>location.reload(boolean)</code>åˆ·æ–°é¡µé¢,å¦‚æœéœ€è¦æ¸…é™¤ç¼“å­˜ä¼ å…¥å¸ƒå°”å€¼<code>true</code>(å¼ºåˆ¶åˆ·æ–°)</li></ul> <h4 id="_4-window-navigatorå¯¹è±¡"><a href="#_4-window-navigatorå¯¹è±¡" class="header-anchor">#</a> 4.<code>window.navigator</code>å¯¹è±¡</h4> <ul><li><code>navigator.userAgent</code> å®¢æˆ·ç«¯ä¿¡æ¯</li></ul> <h4 id="_5-window-history-å¯¹è±¡"><a href="#_5-window-history-å¯¹è±¡" class="header-anchor">#</a> 5.<code>window.history</code> å¯¹è±¡</h4> <ul><li><code>history.back()</code> åé€€1</li> <li><code>history.forward()</code> å‰è¿›1</li> <li><code>history.go(number)</code> å‰è¿›æˆ–è€…åé€€n</li></ul> <h4 id="_6-offset-å…ƒç´ åç§»é‡"><a href="#_6-offset-å…ƒç´ åç§»é‡" class="header-anchor">#</a> 6. <code>offset</code> å…ƒç´ åç§»é‡</h4> <ul><li><code>el.offsetParent</code> è¿”å›å½“å‰çˆ¶çº§å®šä½å…ƒç´ ï¼ˆé<code>static</code>å…ƒç´ ï¼‰ï¼Œé€çº§å¯»æ‰¾ï¼Œå¦‚æœæ²¡æœ‰å°±è¿”å›<code>&lt;body&gt;</code></li> <li><code>el.offsetTop</code> å…ƒç´ ç›¸å¯¹<code>offsetParent</code>å…ƒç´ ä¸Šæ–¹çš„åç§»é‡</li> <li><code>el.offsetLeft</code> å…ƒç´ ç›¸å¯¹<code>offsetParent</code>å…ƒç´ å·¦ä¾§çš„åç§»é‡</li> <li><code>el.offsetWidth</code> è¿”å›è‡ªèº«åŒ…æ‹¬<code>paddingã€borderã€content</code>çš„å®½åº¦ï¼Œè¿”å›å€¼ä¸å¸¦å•ä½</li> <li><code>el.offsetHeight</code> è¿”å›è‡ªèº«åŒ…æ‹¬<code>paddingã€borderã€content</code>çš„é«˜åº¦ï¼Œè¿”å›å€¼ä¸å¸¦å•ä½</li> <li><code>offset</code>å’Œ<code>style</code>åŒºåˆ«(ä¸¤ç§æ–¹å¼éƒ½å¯ä»¥è·å–å®½é«˜)
<ul><li><code>offset</code>å¯ä»¥è·å–å†…è”æ ·å¼ä¹Ÿèƒ½è·å–å¤–éƒ¨linkæˆ–è€…styleä¸­çš„æ ·å¼ï¼Œè·å–åˆ°çš„æ ·å¼æ•°æ®æ˜¯æ²¡æœ‰å•ä½çš„ï¼ŒåŒ…å«<code>paddingå’Œborder</code>ï¼Œ<strong>åªè¯»</strong></li> <li><code>style</code>åªèƒ½è·å–å†…è”æ ·å¼ä¸­çš„æ•°å€¼ï¼Œä¸èƒ½è·å–<code>&lt;style&gt;</code>æ ‡ç­¾ä¸­çš„æ ·å¼ï¼Œè·å–åˆ°çš„å†…è”æ ·å¼æ•°æ®æ˜¯å¸¦å•ä½çš„ï¼Œå¦‚<code>50px</code>ï¼Œä¸åŒ…å«<code>paddingå’Œborder</code>ï¼Œ<strong>å¯è¯»å†™</strong></li> <li>æ€»ç»“ï¼šå–å€¼ç”¨<code>offset</code>ï¼Œæ”¹å€¼ç”¨<code>style</code></li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>
<span class="token keyword">const</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.box'</span><span class="token punctuation">)</span>

box<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>pageY<span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>offsetTop<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>pageX<span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>offsetLeft<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre></div><h4 id="_7-client-å…ƒç´ å¯è§†åŒºç›¸å…³å±æ€§"><a href="#_7-client-å…ƒç´ å¯è§†åŒºç›¸å…³å±æ€§" class="header-anchor">#</a> 7.<code>client</code> å…ƒç´ å¯è§†åŒºç›¸å…³å±æ€§</h4> <blockquote><p>åœ¨å“åº”å¼å¸ƒå±€çš„æ—¶å€™æ—¶å¸¸éœ€è¦åˆ¤æ–­å½“å‰è§†å£çš„å‚æ•°æ¥å†³å®šå½“å‰é¡µé¢çš„æ–‡å­—å¤§å°å’Œä¸€äº›æ ·å¼ï¼Œè¿™å°±ç”¨åˆ°äº†ä»¥ä¸‹å±æ€§ï¼Œå¦å¤–éœ€è¦æ³¨æ„å’Œ<code>offset</code>ç³»åˆ—çš„åŒºåˆ«ã€‚</p></blockquote> <ul><li><code>element.clientTop</code> è¿”å›å…ƒç´ ä¸Šè¾¹æ¡†å¤§å°</li> <li><code>element.clientLeft</code> è¿”å›å…ƒç´ å·¦è¾¹æ¡†å¤§å°</li> <li><code>element.clientWidth</code> è¿”å›è‡ªèº«åŒ…æ‹¬<code>paddingã€centent</code>çš„å®½åº¦ï¼Œä¸åŒ…å«è¾¹æ¡†ï¼Œè¿”å›å€¼ä¸å¸¦å•ä½,å’Œ<code>offsetWidth</code>æœ€å¤§åŒºåˆ«æ˜¯ä¸å¸¦è¾¹æ¡†ã€‚</li> <li><code>element.clientHeight</code> è¿”å›è‡ªèº«åŒ…æ‹¬<code>paddingã€centent</code>çš„é«˜åº¦ï¼Œä¸åŒ…å«è¾¹æ¡†ï¼Œè¿”å›å€¼ä¸å¸¦å•ä½ï¼Œå’Œ<code>offsetHeight</code>æœ€å¤§åŒºåˆ«æ˜¯ä¸å¸¦è¾¹æ¡†ã€‚</li></ul> <h4 id="_8-scroll-æ»šåŠ¨åŒºåŸŸç›¸å…³å±æ€§"><a href="#_8-scroll-æ»šåŠ¨åŒºåŸŸç›¸å…³å±æ€§" class="header-anchor">#</a> 8.<code>scroll</code> æ»šåŠ¨åŒºåŸŸç›¸å…³å±æ€§</h4> <ul><li><code>element.scrollTop</code> è¢«æ»šåŠ¨åˆ°ä¸Šè¾¹çš„é•¿åº¦  (æ»šåŠ¨è·ç¦»)</li> <li><code>element.scrollLeft</code> è¢«æ»šåŠ¨åˆ°å·¦è¾¹çš„é•¿åº¦ (æ»šåŠ¨è·ç¦»)</li> <li><code>element.scrollWidth</code> è¿”å›è‡ªèº«å®é™…å®½åº¦ ä¸å«è¾¹æ¡†</li> <li><code>element.scrollHeight</code>è¿”å›è‡ªèº«å®é™…é«˜åº¦ï¼Œä¸å«è¾¹æ¡†ï¼Œå³ä½¿è¶…è¿‡äº†å½“å‰å…ƒç´ åŒºåŸŸï¼Œä¹Ÿä¼šè®¡ç®—è¶…å‡ºçš„é•¿åº¦ã€‚è€Œ<code>clientHeight</code>æ˜¯ä¸åŒçš„ï¼Œ<code>clientHeight</code>ä¸ä¼šè®¡ç®—è¶…å‡ºçš„åŒºåŸŸã€‚</li> <li><code>element.onsrcoll</code> å…ƒç´ æ»šåŠ¨æ—¶å€™è§¦å‘</li> <li><code>window.pageYOffset</code>å¦‚æœå½“å‰é¡µé¢æ˜¯å¯ä»¥æ»šåŠ¨çš„ï¼Œè¿™ä¸ªå‚æ•°ä»£è¡¨çª—å£çš„æ»šåŠ¨è·ç¦»ã€‚</li> <li>ç®€å•å¯¹æ¯”ä¸‰å¤§ç³»åˆ—</li></ul> <table><thead><tr><th>offset</th> <th>client</th> <th>scroll</th></tr></thead> <tbody><tr><td><code>borderã€paddingã€content</code>ï¼Œä¼šè®¡ç®—æ»šåŠ¨æ¡çš„å®½åº¦ï¼Œä¸è®¡ç®—è§†åŒºä¹‹å¤–çš„å†…å®¹ï¼Œä¼šæŠŠè¾¹æ¡†è®¡ç®—åœ¨å†…</td> <td><code>paddingã€content</code>ï¼Œï¼Œä¸ä¼šè®¡ç®—æ»šåŠ¨æ¡çš„å®½åº¦ï¼Œåªè®¡ç®—èƒ½çœ‹è§çš„å†…å®¹å’Œå†…è¾¹è·</td> <td><code>contentã€padding</code>ã€æ»šåŠ¨å‡ºè§†åŒºçš„å†…å®¹ä¹Ÿä¼šè®¡ç®—åœ¨å†…</td></tr></tbody></table> <ul><li>æ¡ˆä¾‹ï¼šç®€æ˜“è½®æ’­å›¾</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">animate</span><span class="token punctuation">(</span><span class="token parameter">ele<span class="token punctuation">,</span> target<span class="token punctuation">,</span> fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">_animate</span><span class="token punctuation">(</span>ele<span class="token punctuation">,</span> target <span class="token operator">-</span> ele<span class="token punctuation">.</span>offsetLeft<span class="token punctuation">,</span> fn<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">_animate</span><span class="token punctuation">(</span><span class="token parameter">ele<span class="token punctuation">,</span> long<span class="token punctuation">,</span> fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>ele<span class="token punctuation">.</span>timer<span class="token punctuation">)</span> <span class="token keyword">return</span>
    <span class="token keyword">let</span> init <span class="token operator">=</span> ele<span class="token punctuation">.</span>offsetLeft
    ele<span class="token punctuation">.</span>timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> step <span class="token operator">=</span> long <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">?</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>long <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">:</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>long <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>ele<span class="token punctuation">.</span>offsetLeft <span class="token operator">-</span> init <span class="token operator">===</span> long<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">clearInterval</span><span class="token punctuation">(</span>ele<span class="token punctuation">.</span>timer<span class="token punctuation">)</span>
            ele<span class="token punctuation">.</span>timer <span class="token operator">=</span> <span class="token keyword">null</span>
            <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span>
        <span class="token punctuation">}</span>
        ele<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> ele<span class="token punctuation">.</span>offsetLeft <span class="token operator">+</span> step <span class="token operator">+</span> <span class="token string">'px'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> slideLeft <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.left'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> slideRight <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.right'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> wrapper <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.wrapper'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> ul <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.pic'</span><span class="token punctuation">)</span>
wrapper<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mouseover'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    slideLeft<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">'block'</span>
    slideRight<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">'block'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
wrapper<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mouseout'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    slideLeft<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">'none'</span>
    slideRight<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">'none'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
slideLeft<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">_animate</span><span class="token punctuation">(</span>ul<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">500</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'over'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
slideRight<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">_animate</span><span class="token punctuation">(</span>ul<span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'over'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="_9-æœ¬åœ°å­˜å‚¨-sessionstorage-localstorage"><a href="#_9-æœ¬åœ°å­˜å‚¨-sessionstorage-localstorage" class="header-anchor">#</a> 9.æœ¬åœ°å­˜å‚¨ <code>sessionStorage</code> &amp; <code>localStorage</code></h4> <ul><li><code>sessionStorage</code> æœ€å¤šå­˜5M
<ul><li>ç”Ÿå‘½å‘¨æœŸ ï¼šå…³é—­æµè§ˆå™¨çª—å£æ•°æ®å°±ä¼šæ¶ˆå¤±</li> <li>åŒä¸€ä¸ªçª—å£/é¡µé¢å¯ä»¥å…±äº«</li> <li>ä»¥é”®å€¼å¯¹å­˜å‚¨</li> <li>åˆ·æ–°æµè§ˆå™¨ä¹Ÿä¸ä¼šæ¶ˆå¤±</li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>sessionStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'key'</span><span class="token punctuation">,</span><span class="token string">'value'</span><span class="token punctuation">)</span>
sessionStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'key'</span><span class="token punctuation">)</span>
sessionStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span><span class="token string">'key'</span><span class="token punctuation">)</span>
sessionStorage<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><ul><li><code>localStorage</code> æœ€å¤šå­˜20M
<ul><li>ç”Ÿå‘½å‘¨æœŸï¼šæ°¸ä¹…æœ‰æ•ˆï¼Œé™¤éæ‰‹åŠ¨åˆ é™¤ï¼Œå…³é—­é¡µé¢ä¹Ÿå­˜åœ¨</li> <li>å¯ä»¥å¤šä¸ªé¡µé¢å…±äº«ï¼ŒåŒä¸€æµè§ˆå™¨å…±äº«</li> <li>ä»¥é”®å€¼å¯¹å­˜å‚¨</li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'key'</span><span class="token punctuation">,</span><span class="token string">'value'</span><span class="token punctuation">)</span>
localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'key'</span><span class="token punctuation">)</span>
localStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span><span class="token string">'key'</span><span class="token punctuation">)</span>
localStorage<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.2b158257.js" defer></script><script src="/assets/js/2.52bd5051.js" defer></script><script src="/assets/js/9.cb0205bc.js" defer></script>
  </body>
</html>
